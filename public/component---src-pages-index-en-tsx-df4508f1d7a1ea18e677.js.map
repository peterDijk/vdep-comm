{"version":3,"sources":["webpack:///./src/pages/index.en.tsx","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/components/header.tsx","webpack:///./src/lib/filterEvents.ts","webpack:///./src/styles/Events.ts","webpack:///./src/components/UpcomingEvents.tsx"],"names":["queryName","IndexPage","_ref","data","console","log","eventEntities","drupal","nodeQuery","entities","filteredEvents","filterEvents","upcomingPerSeminar","eventsMiddleEast","eventsWestAfrica","eventsRussia","sort","a","b","Date","fieldDateDay1","date","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","_components_layout__WEBPACK_IMPORTED_MODULE_2__","lang","_styles_Main__WEBPACK_IMPORTED_MODULE_7__","_components_header__WEBPACK_IMPORTED_MODULE_3__","language","Fragment","_components_seo__WEBPACK_IMPORTED_MODULE_5__","title","keywords","description","_components_UpcomingEvents__WEBPACK_IMPORTED_MODULE_4__","events","$export","__webpack_require__","aFunction","toObject","fails","$sort","test","P","F","undefined","comparefn","call","this","module","exports","method","arg","Header","header","_public_static_d_2176486503_json__WEBPACK_IMPORTED_MODULE_1__","entityTranslations","find","langcode","value","react__WEBPACK_IMPORTED_MODULE_2___default","_styles_Main__WEBPACK_IMPORTED_MODULE_5__","heroImgUrl","fieldHeroImage","url","_image__WEBPACK_IMPORTED_MODULE_4__","fileName","t","fieldCogMessage","fieldCogSubMessage","dateInFuture","allEventsMiddleEast","filter","entity","fieldSeminar","allEventsWestAfrica","allEventsRussia","event","UpcomingEventsContainer","styled","div","_templateObject","COLOR","VDEP_DARK_BLUE","TilesContainer","_templateObject2","EventTile","_templateObject3","VDEP_TERTIARY_BLUE","LocationDateContainer","_templateObject4","VDEP_SECONDARY_BLUE","EventImage","_templateObject5","props","imgUrl","d","__webpack_exports__","UpcomingEvents_UpcomingEvents","UpcomingEvents","react","map","fieldImageNight","derivative","fieldLocationCity","fieldDatesText"],"mappings":"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","file":"component---src-pages-index-en-tsx-df4508f1d7a1ea18e677.js","sourcesContent":["import React from \"react\";\nimport { Link, StaticQuery, graphql } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport Header from \"../components/header\";\nimport { UpcomingEvents } from \"../components/UpcomingEvents\";\nimport SEO from \"../components/seo\";\nimport { filterEvents } from \"../lib/filterEvents\";\nimport { AboveTheFold } from \"../styles/Main\";\n\nconst IndexPage = ({ data }) => {\n  const language = \"en\";\n  console.log(data);\n  const eventEntities = data.drupal.nodeQuery.entities;\n  const filteredEvents = filterEvents(eventEntities);\n  const upcomingPerSeminar = [\n    filteredEvents.eventsMiddleEast[0],\n    filteredEvents.eventsWestAfrica[0],\n    filteredEvents.eventsRussia[0],\n  ].sort((a, b) => {\n    const aDate: any = new Date(a.fieldDateDay1.date);\n    const bDate: any = new Date(b.fieldDateDay1.date);\n    return aDate - bDate;\n  });\n  console.log(upcomingPerSeminar);\n\n  return (\n    <Layout lang={language}>\n      <AboveTheFold>\n        <Header language={language} />\n        <React.Fragment>\n          <SEO\n            title=\"Home\"\n            keywords={[`gatsby`, `application`, `react`]}\n            description=\"omschrijving\"\n          />\n        </React.Fragment>\n        <UpcomingEvents events={upcomingPerSeminar} language={language} />\n      </AboveTheFold>\n    </Layout>\n  );\n};\n\nexport const queryName = graphql`\n  query {\n    drupal {\n      nodeQuery(filter: { conditions: [{ field: \"type\", value: \"events\" }] }) {\n        entities {\n          entityType\n          ... on DRUPAL_NodeEvents {\n            uuid\n            langcode {\n              value\n            }\n            title\n            fieldLocationCity\n            fieldLocationVenue\n            fieldDateDay1 {\n              value\n              date\n            }\n            fieldDatesText\n            fieldSeminar {\n              targetId\n              entity {\n                ... on DRUPAL_NodeSeminar {\n                  title\n                  fieldImageNight {\n                    derivative(style: LARGE) {\n                      height\n                      width\n                      url\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default IndexPage;\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","import { Link, graphql, StaticQuery, useStaticQuery } from \"gatsby\";\nimport React from \"react\";\n\nimport { LanguageState } from \"../lib/LanguageStateProvider\";\nimport { translate as t } from \"../lib/i18n\";\n\nimport Image from \"./image\";\nimport {\n  Header as StyledHeader,\n  Hero,\n  SiteTitleContainer,\n  LogoContainer,\n  CoG,\n  LogoTextOne,\n  LogoTextTwo,\n  LogoTextThree,\n  SitePayoff,\n} from \"../styles/Main\";\n\nconst Header = ({ language }) => {\n  const { drupal } = useStaticQuery(graphql`\n    query {\n      drupal {\n        nodeQuery(\n          filter: { conditions: [{ field: \"type\", value: \"header\" }] }\n        ) {\n          entities {\n            entityTranslations {\n              ... on DRUPAL_NodeHeader {\n                uuid\n                langcode {\n                  value\n                }\n                title\n                fieldCogMessage\n                fieldCogSubMessage\n                fieldHeroImage {\n                  alt\n                  url\n                  height\n                  width\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `);\n  const header = drupal.nodeQuery.entities[0].entityTranslations.find(\n    lang => lang.langcode.value === language\n  );\n  return header ? (\n    <StyledHeader>\n      <Hero heroImgUrl={header.fieldHeroImage.url}>\n        <SiteTitleContainer>\n          <LogoContainer>\n            <CoG>\n              <Image fileName={\"190425_CoG_Logo_WO-title.png\"} />\n            </CoG>\n            <h1>\n              <LogoTextOne>{t(\"COMMUNICATION\", language)}</LogoTextOne>\n              <LogoTextTwo>{t(\"ACCROSS\", language)}</LogoTextTwo>\n              <LogoTextThree>{t(\"BORDERS\", language)}</LogoTextThree>\n            </h1>\n          </LogoContainer>\n          <SitePayoff>\n            <h2>{header.fieldCogMessage}</h2>\n            <h3>{header.fieldCogSubMessage}</h3>\n          </SitePayoff>\n        </SiteTitleContainer>\n      </Hero>\n    </StyledHeader>\n  ) : null;\n};\n\nexport default Header;\n","export type Seminar = {\n  title: string;\n  fieldImageNight: {\n    derivative: {\n      height: number;\n      width: number;\n      url: string;\n    };\n  };\n  __typename: \"DRUPAL_NodeSeminar\";\n};\n\nexport type EventEntity = {\n  entityType: string;\n  fieldDateDay1: {\n    date: Date;\n    value: string;\n  };\n  fieldDatesText: string;\n  fieldLocationCity: string;\n  fieldLocationVenue: string;\n  fieldSeminar: {\n    targetId: number;\n    entity: Seminar;\n  };\n  langcode: {\n    value: string;\n  };\n  title: string;\n  uuid: string;\n  __typename: \"DRUPAL_NodeEvents\";\n};\n\ntype FilteredEvents = {\n  eventsMiddleEast: EventEntity[];\n  eventsWestAfrica: EventEntity[];\n  eventsRussia: EventEntity[];\n};\n\nconst dateInFuture = (date: Date) => {\n  const eventDate = new Date(date);\n  const now = new Date();\n  return eventDate >= now;\n};\n\nexport const filterEvents = (eventEntities: EventEntity[]): FilteredEvents => {\n  const allEventsMiddleEast = eventEntities.filter(\n    entity => entity.fieldSeminar.entity.title === \"Middle-East\"\n  );\n  const allEventsWestAfrica = eventEntities.filter(\n    entity => entity.fieldSeminar.entity.title === \"West-Africa\"\n  );\n  const allEventsRussia = eventEntities.filter(\n    entity => entity.fieldSeminar.entity.title === \"Russia\"\n  );\n\n  const eventsMiddleEast = allEventsMiddleEast\n    .filter(event => dateInFuture(event.fieldDateDay1.date))\n    .sort((a, b) => {\n      const aDate: any = new Date(a.fieldDateDay1.date);\n      const bDate: any = new Date(b.fieldDateDay1.date);\n      return aDate - bDate;\n    });\n\n  const eventsWestAfrica = allEventsWestAfrica\n    .filter(event => dateInFuture(event.fieldDateDay1.date))\n    .sort((a, b) => {\n      const aDate: any = new Date(a.fieldDateDay1.date);\n      const bDate: any = new Date(b.fieldDateDay1.date);\n      return aDate - bDate;\n    });\n\n  const eventsRussia = allEventsRussia\n    .filter(event => dateInFuture(event.fieldDateDay1.date))\n    .sort((a, b) => {\n      const aDate: any = new Date(a.fieldDateDay1.date);\n      const bDate: any = new Date(b.fieldDateDay1.date);\n      return aDate - bDate;\n    });\n\n  return { eventsMiddleEast, eventsWestAfrica, eventsRussia };\n};\n","import styled from \"./styled-components\";\nimport { COLOR, STYLES } from \"./constants\";\n\nexport const UpcomingEventsContainer = styled.div`\n  width: 100%;\n  padding: 3rem 2rem;\n\n  h2 {\n    color: ${COLOR.VDEP_DARK_BLUE};\n    font-size: 2rem;\n    font-family: \"Roboto Slab\", \"sans-serif\";\n    font-weight: bold;\n    margin: 0 2rem 2rem;\n  }\n`;\n\nexport const TilesContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  margin: 0;\n`;\n\nexport const EventTile = styled.div`\n  position: relative;\n  text-align: center;\n  width: calc(100% / 3 - 1.5rem);\n  margin: 0 2rem;\n\n  h2 {\n    color: ${COLOR.VDEP_TERTIARY_BLUE};\n    font-size: 1.5rem;\n    text-transform: uppercase;\n    position: absolute;\n    top: 1.6rem;\n    left: 2rem;\n    font-weight: bold;\n    letter-spacing: 0.2rem;\n    margin: 0;\n  }\n`;\n\nexport const LocationDateContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin: 1rem 3rem;\n\n  h3 {\n    font-family: \"Roboto Slab\", \"sans-serif\";\n    color: ${COLOR.VDEP_SECONDARY_BLUE};\n    letter-spacing: 0.15rem;\n    font-weight: bold;\n    font-size: 1.5rem;\n    text-transform: uppercase;\n  }\n  h4 {\n    font-family: \"Roboto Slab\", \"sans-serif\";\n    color: ${COLOR.VDEP_SECONDARY_BLUE};\n    letter-spacing: 0.15rem;\n    font-weight: normal;\n    font-size: 1.5rem;\n    text-transform: uppercase;\n  }\n`;\n\nexport const EventImage = styled.div<{ imgUrl: string }>`\n  background-image: url(${props => props.imgUrl});\n  background-size: cover;\n  background-position: top;\n  border-radius: 0.5rem;\n  width: 100%;\n  height: 13rem;\n`;\n","import * as React from \"react\";\nimport { translate as t } from \"../lib/i18n\";\nimport { EventEntity } from \"../lib/filterEvents\";\nimport {\n  UpcomingEventsContainer,\n  TilesContainer,\n  EventTile,\n  EventImage,\n  LocationDateContainer,\n} from \"../styles/Events\";\n\ntype Props = {\n  events: EventEntity[];\n  language: string;\n};\n\nexport const UpcomingEvents = ({ events, language }: Props) => (\n  <UpcomingEventsContainer>\n    <h2>{t(\"UPCOMINGSEMINARS\", language)}:</h2>\n    <TilesContainer>\n      {events.map(event => (\n        <EventTile>\n          <EventImage\n            imgUrl={event.fieldSeminar.entity.fieldImageNight.derivative.url}\n          />\n          <h2>{event.fieldSeminar.entity.title}</h2>\n          <LocationDateContainer>\n            <h3>{event.fieldLocationCity}</h3>\n            <h4>{event.fieldDatesText}</h4>\n          </LocationDateContainer>\n        </EventTile>\n      ))}\n    </TilesContainer>\n  </UpcomingEventsContainer>\n);\n"],"sourceRoot":""}